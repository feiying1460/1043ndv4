(function(a){a.su=a.su||{};a.su.vtype=function(b){var c={type:"sample",regex:/^[a-zA-Z0-9]&/,vtypeText:"sample run!",validator:null};if(a.type(b)==="string"){if(!a.su.vtype.types[b]){console.error("wrong vtype name!");return null}else{c=a.su.vtype.types[b]}}a.extend(this,c,{isVtype:true})};a.su.vtype.types={email:{regex:/^[a-zA-Z0-9_+.-]+\@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,4}$/,vtypeText:(js_vtypetext_email="Please enter an e-mail address.")},number:{regex:/^-?[0-9]\d*$/,vtypeText:(js_vtype_number="Please enter the number."),keybordHandler:function(g){g.stopPropagation();var f=g.keyCode,d=g.shiftKey,i=g.ctrlKey;if(d){return false}if(f==37||f==39){return true}if(f==38||f==40){var c=a(this),b=c.val();if(a.su.vtype.types.number.regex.test(b)){if(f==38){var h=c.hasClass("hour-text")?23:59;if(b<h){c.val(parseInt(b,10)+1)}else{return false}}else{if(b==0){return false}else{c.val(parseInt(b,10)-1)}}}else{c.val(0)}}if(!i){if((f<48||f>57)&&f>32){return false}}}},ip:{regex:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5]|0\d\d)(\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5]|0\d\d)){3}$/,vtypeText:(js_vtypetext_ip="IP address is invalid. Please try again.")},mac:{regex:/^([0-9a-fA-F]{2})((-[0-9a-fA-F]{2}){5})$/,vtypeText:(js_vtypetext_ip="MAC address is invalid. Please try again.")},netmask:{regex:/^(254|252|248|240|224|192|128|0)\.0\.0\.0$|^(255\.(254|252|248|240|224|192|128|0)\.0\.0)$|^(255\.255\.(254|252|248|240|224|192|128|0)\.0)$|^(255\.255\.255\.(254|252|248|240|224|192|128|0))$/,vtypeText:(js_vtypetext_ip="Please enter the subnet mask.")},domain:{regex:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,vtypeText:(js_vtypetext_ip="Please enter the IP Address or Domain Name.")},wanusr:{regex:/^[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\ ]+$/,vtypeText:(js_vtypetext_ip="The username is invalid.")},wanpwd:{regex:/^[A-Za-z0-9\`\~\!\@\#\$\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\%\^\/\ ]+$/,vtypeText:(js_vtypetext_ip="The password is invalid.")},wlanssid:{regex:/^[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\ ]+$/,vtypeText:(js_vtypetext_ip="Wireless SSID is invalid.")},wlanpwd:{regex:/^[A-Za-z0-9\`\~\!\@\#\$\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\%\^\ ]+$/,vtypeText:(js_vtypetext_ip="Wireless password is invalid.")}};a.su.vtype.prototype.validate=function(d){var c=true;var b=true;if(this.validator){c=this.validator(d)}if(this.regex){b=this.regex.test(d)}return c&&b};a.su.clearAttrAll=function(b){var b=a(b);b.removeAttr("id");b.removeAttr("name");b.removeAttr("class")};a.su.clone=function(e){var d=Object.prototype.toString.call(e);switch(d){case"[object Array]":var b=[];for(var c=0;c<e.length;c++){b[c]=a.su.clone(e[c])}return b;break;case"[object Object]":var b={};for(var c in e){b[c]=a.su.clone(e[c])}return b;break;case"[object Function]":return e;break;case"[object String]":var b=e;return b;break;case"[object Number]":var b=e;return b;break;case"[object Boolean]":if(!e){return false}else{return true}break;default:return undefined;break}};a.su.format={string:function(b){return b.toString()},"int":function(b){return parseInt(b,10)},"boolean":function(b){if(!b){return false}else{return true}}};a.su.randomId=function(b){return b+"-"+parseInt(Math.random()*1000*1000*1000*10,10).toString()};a.su.Manager=function(c){var b={type:"Store",id:a.su.randomId("manager")};this.local={};this.global={};a.extend(this,b,c);a.su.Manager.managers=a.su.Manager.managers||[];a.su.Manager.managers.push(this)};a.su.Manager.removeLocal=function(){var d=a.su.Manager.managers;if(d){for(var c=0,b=d.length;c<b;c++){if(d[c].removeLocal){d[c].removeLocal()}}}};a.su.Manager.removeGlobal=function(){var d=a.su.Manager.managers;if(d){for(var c=0,b=d.length;c<b;c++){if(d[c].removeGlobal){d[c].removeGlobal()}}}};a.su.Manager.prototype.get=function(c){var b=this.local[c]||this.global[c];if(!b){console.error("Debug: Invalid id!");return null}return b};a.su.Manager.prototype.add=function(c){var d=c.id;if(!d){console.log("Debug: Store Id!");return false}var b=this;if(c.global){b.global[d]=c}else{b.local[d]=c}if(b.addCallback){addCallback.call(b,c)}};a.su.Manager.prototype.remove=function(c){var b=this.local[c]||this.global[c];if(!b){console.error("Debug: Invalid id!")}if(b.nodeType){a(b).remove()}else{delete b}delete this.local[c];delete this.global[c];b=null;return this};a.su.Manager.prototype.removeLocal=function(){for(var b in this.local){var c=this.local[b];if(c.nodeType){a(c).remove()}else{delete c}}this.local=null;delete this.local;this.local={};return this};a.su.Manager.prototype.removeGlobal=function(){for(var b in this.global){var c=this.global[b];if(c.nodeType){a(c).remove()}else{delete c}}this.global=null;delete this.global;this.global={};return this};a.su.storeManager=new a.su.Manager({type:"Stroe",id:"storeManager"});a.su.componentManager=new a.su.Manager({type:"Component",id:"componentManager"});a.su.tipManager=new a.su.Manager({type:"Tip",id:"tipManager"});a.su.msgManager=new a.su.Manager({type:"Msg",id:"msgManager"});a.su.tipManager.add=function(c){a.su.Manager.prototype.add.call(this,c);var b=a("div.tips-container#tips-container").length===0?a('<div class="tips-container" id="tips-container"></div>').appendTo("body"):a("div.tips-container#tips-container");b.append(c)};a.su.Controller=function(b){};a.su.moduleController={handlers:{navChange:[a.su.Manager.removeLocal],menuChange:[a.su.Manager.removeLocal]},runHandlers:function(e){var c=this.handlers[e];for(var d=0,b=c.length;d<b;d++){if(typeof c[d]=="function"){c[d]()}}},navChange:function(){this.runHandlers.call(this,"navChange")},menuChange:function(){this.runHandlers.call(this,"menuChange")}};a.su.addEventListener=function(e,c,d,b){if(!e){console.error("The Obj is null!");return}if(e.addEventListener){e.addEventListener(c,function(f){d.call(e,f||window.event)},b)}else{e.attachEvent("on"+c,function(f){d.call(e,f||window.event)})}return d};a.su.help={width:480,setPostion:function(){var g=a(window),e=a("div.btn-help-container"),d=a("div.content-container"),b=a("a.btn-help");var f=b.hasClass("closed");if(g.scrollTop()<85){e.css({position:"absolute",right:(f?0:a.su.help.width-b.width())})}else{var c=g.width()+g.scrollLeft()+20-d.offset().left-d.width();e.css({position:"fixed",right:(f?c:a.su.help.width+c-b.width())})}},init:function(){a(window).bind("scroll resize",a.su.help.setPostion)}};a.su.help.init()})(jQuery);