(function(a){a.su.Widget("button",{defaults:{text:"",icon:"",iconCls:"",enableToggle:false,toggleHander:null,pressedCls:"pressed",pressed:false,cls:"",btnCls:"",loading:false,loadingText:(js_connect_conneting="Connecting"),loadedText:(js_connect_connected="Connected"),unloadingText:(js_connect_disconnecting="Disconnecting"),unloadedText:(js_connect_disconnected="Disconnected"),handler:null,fieldLabel:null},create:function(e,c){var d=this;d.each(function(m,l){var n=a(this);a.extend(l,e,c);var h=n.attr("name")||"",j=n.attr("id")||a.su.randomId("button"),r=n.val()||"",t=n.attr("class")||"";var q=null;if(n.is("input")){var k=a('<button id="button-'+j+'" name="button-'+h+'" class="'+t+'" type="button">'+r+"</button>");n.replaceWith(k);q=n;n=k}var o=n.html();n.empty();var s=l.text||o||"";var f="";if(l.icon!==""&&l.iconCls!==""){f+='<span class="button-icon '+l.iconCls+'" style="background-image: url(\''+l.icon+"')\"></span>"}f+='<span class="button-text">'+s+"</span>";var g=a('<div class="container widget-container button-container '+l.cls+'"></div>');n.replaceWith(g);g.append(n.addClass("button-button "+l.btnCls).append(a(f)));var f="";if(l.fieldLabel!==null){f+='<div class="widget-fieldlabel-wrap '+l.labelCls+'">';f+='<label class="widget-fieldlabel text-fieldlabel">'+l.fieldLabel+"</label>";if(l.fieldLabel!==""){f+='<span class="widget-separator">'+l.separator+"</span>"}f+="</div>"}g.prepend(a(f));if(q){g.append(q.addClass("hidden"))}if(l.loading){f='<div class="loading-info-container">';f+='<span class="icon"></span>';f+='<span class="text"></span>';f+="</div>";g.append(a(f))}if(a.type(l.handler)==="function"){n.bind("click",l.handler)}if(l.enableToggle===true){var p=l.pressed;n.attr("pressed",p);if(p.toString()==="true"){n.addClass(l.pressedCls)}n.bind("click",function(v){var i=a(this),u=this.pressed;if(u.toString()==="false"){i.addClass(this.pressedCls);u=true}else{i.removeClass(this.pressedCls);u=false}i.attr("pressed",u);this.pressed=u;if(a.type(this.toggleHander)==="function"){this.toggleHander.call(this,u)}})}l.isButton=true});var b=d.closest("div.button-container");b.delegate("button.button-button","mousedown",function(f){f.stopPropagation();b.addClass("clicked")});return d},setValue:function(b,c){var b=b||this;console.log(b.get(0).nodeType,b.get(0).id);return b}})})(jQuery);