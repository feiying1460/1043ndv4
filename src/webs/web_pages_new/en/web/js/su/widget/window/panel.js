(function(a){a.su.Widget("panel",{defaults:{_title:"",icon:"",iconCls:"",panelType:"form",collapsible:false,collapsed:false,help:false,helpHandler:null},create:function(d,b){var c=this;c.each(function(f,k){var e=a(this);a.extend(this,d,b);var j=this.collapsed===false?"block":"none";var g='<div class="panel-wrap">';var l=this.collapsed?"collapsed":"";if(!(this._title=="")){g+='<div class="panel-header">';g+='<h3 class="panel-title">';g+='<span class="panel-title-icon"></span>';g+='<span class="panel-title-text">'+this._title+"</span>";g+='<div class="panel-header-btn-container">';if(this.collapsible){g+='<button class="panel-header-btn-collapse '+l+'" type="button"></button>'}g+="</div>";g+="</h3>";g+="</div>"}g+='<div class="panel-content" style="display: '+j+'">';g+='<div class="panel-tbar-container"></div>';g+='<div class="panel-content-container"></div>';g+='<div class="panel-fbar-container"></div>';g+='<div class="panel-tbar-bottom-container"></div>';g+="</div>";g+="</div>";var h=a(g);h.find("div.panel-content-container").append(e.children().detach());e.append(h).addClass("container widget-container panel-container "+this.cls);this.isPanel=true});c.delegate("button.panel-header-btn-collapse","click",function(i){var g=a(this),f=g.closest("div.panel-container"),h=f.find("div.panel-content");if(f.get(0).collapsed){h.slideDown(200,function(){a(this).css("display","block");g.removeClass("collapsed")});f.get(0).collapsed=false}else{h.slideUp(200,function(){a(this).css("display","none");g.addClass("collapsed")});f.get(0).collapsed=true}});if(a.type(b.helpHandler)==="function"){container.delegate("button.panel-header-btn-help","click",{panel:a(this)},b.helpHandler)}return c}})})(jQuery);